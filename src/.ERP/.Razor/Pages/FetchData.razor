@page "/fetchdata"
<PageTitle>Weather forecast</PageTitle>
@using Common.Features.DummyFakeExamples.WeatherForecast
@using System.Net.Http.Json
@inject WeatherForecastService ForecastService
@inject HttpClient Http
<h1>Weather forecast</h1>
<p>This component demonstrates fetching data from the server.</p>
<partial name="_FetchDataTable" model="forecastsFromServer" />
<p>This component demonstrates fetching data from a service.</p>
<partial name="_FetchDataTable" model="forecastsFromService" />
@code {
  private WeatherForecast[]? forecastsFromService;

  protected override async Task OnInitializedAsync() {
    forecastsFromService = await ForecastService.GetForecastAsync(DateTime.Now.ToDateOnly());
  }

  private WeatherForecast[]? forecastsFromServer;

  protected override async void OnInitialized() {
    //protected override async Task OnInitializedAsync() {
    forecastsFromServer = await Http.GetFromJsonAsync<WeatherForecast[]>("sample-data/weather.json");
  }
}
